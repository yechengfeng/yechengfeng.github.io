#### 项目介绍

1. ####  FTI(Forecst Treasury Instrucment) 

   1. FTI项目介绍

      - 资产负债表 关于记账方面金融知识。 补一下金融知识。
      - 对于头寸信息。表里面存了60亿数据，一个批次的数据大约是700多万条；  业务主键，不好说，因为每一个基本都是树形结构,会有一个排列组合的情况。
      - 还有头寸信息的计算 ，比如我五月份存了一笔三个月的定期存款，那么在四月份，这笔定期存款算是多少钱
      - 公司固定的部门，固定的账号，固定的业务，固定的货币，固定的支付对象  <---对应了-->  MS ,MG, LE， MS即使segment的意思， ,MG（地理位置的意思比如地理位置来举例子，省市区。 ）, LE 也是树形结构，
      - Model ----和粒度是一对一的，有张表维护
      - MODEL 和模型因子是一对多的， 一个model是基于多个模型因子进行计算,模型因子解析的时候根据月份可以判断是历史数据还是未来数据，未来数据是基于本金，利息计算出来的，
      - 然后一个模型因子是基于多个多张表定义的计算规则，模型因子定义了一种计算规则，这个规则就是我怎么获取数据，十几种方式，参数是由逗号分割，代表从不同表获取元数据， 然后进行计算。

   2. 技术难点 :

      - 策略模式:优化模型因子的获取数据
      - 获取数据的时候，生产者消费者模式拿这个数据。模型因子一个普通的解析出来5000多个，我们的解析出来30000多个模型因子，然后会把gockey分层计算，第一层级，第二层级，因为高层级依赖低层级的，首先，我们要计算出来层级关系，然后gockey有层级关系，那么模型因子就会有层级关系，MO会绑定多个gockey，获取子gockey，然后计算MO，MO分为历史MO，和新出现的MO.
      - 数据层面分为历史数据，historic data 直接从历史历史数据表拿，mounth_index,

      

      

2. #### 优惠券项目

   > 从业务上来说，我们这个项目主要开发优惠券对用户进行下发提升用户粘性，前一年我们服务开发了收费业务，但是上线运营大半年用户购买情况不是太好，后面产品开需求评审会需要我们开发这个优惠券模块对用户进行投放提升用户的购买欲，优惠券涉及的业务有抢领取优惠券，兑换码设计，最优折扣计算，后面还开发了兑换码嵌入长链接转成短链接对指定非活跃用户进行投放需求，包括我还参与了部分表结构设计，其实优惠券这块大部分业务都是我开发的，只是开发方案设计上我要跟组长先讨论方案的可行性，确认没问题我再开始写代码。

3. #### 支付业务

   >  1. 
   >
   >     

   用户点击我的商品，展示订单，点击支付，创建支付订单，展示二维码，

   

   支付宝文档中心

   > <img src="https://leslieyedoc.oss-cn-shanghai.aliyuncs.com/img/20250917-104255-image-20250917104253149.png" alt="image-20250917104253149" style="zoom: 25%;" />
   >
   > <img src="https://leslieyedoc.oss-cn-shanghai.aliyuncs.com/img/20250917-105141-image-20250917105138370.png" alt="image-20250917105138370" style="zoom:50%;" />
   >
   > ###### 支付的参数
   >
   > 1. 商户ID （用户把钱转给谁了）
   >
   > 2. 支付宝公钥 
   >
   > 3. 应用私钥
   >
   >    > 加密和加签的区别，一个是对消息加密，一个是对消息加我的专属签名，加签就是我用私钥加签，你用我的公钥解签，那么就能证明消息是我发出的，加密是我用你的公钥加密，你用私钥解密
   >    >
   >    > **加密：** 使用**接收者**的**公钥**。
   >    > **解密：** 使用**接收者**的**私钥**。
   >    >
   >    > **加签：** 使用**发送者**的**私钥**。
   >    > **解签：** 使用**发送者**的**公钥**。
   >    >
   >    > **Https协议**
   >    >
   >    > ​	
   >
   > 4. 秘钥（对于请求参数加AES对称加密）16个字节
   >
   > 5. 回调地址
   >
   > 6. 支付宝网关地址
   >
   > 7. 请求协议
   >
   > 8. return url，支付宝成功页面跳转地址
   >
   > 流程
   >
   > 1. 用户点击购买
   > 2. 后台**创建商品订单**，**保存商品快照记录** ，**发送延迟消息**(5分钟后消费，进行关单逻辑)
   > 3. 用户点击去支付或取消订单
   >
   > 涉及到具体角色
   >
   >  1. 商家中心
   >
   >     - 可以看到具体的订单，余额
   >
   >     - 开放平台（产品工作）
   >
   >       - 做接口对接，开通支付功能，配置支付参数
   >
   >         > 1. 企业材料申请账号
   >         > 2. 创建引用 --->生成app_id
   >         > 3. 添加能力
   >         > 4. 提交审核
   >         > 5. 商家中心绑定应用
   >
   >  2. 商品，支付，
   >
   >  3. 对账 
   >
   >     	1. 总账
   >     	2.  
   >
   > 

   > 
   >
   > 