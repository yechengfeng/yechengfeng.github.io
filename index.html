---
layout: default
title: é¦–é¡µ
---

<style>
body { font-family: sans-serif; }
ul { list-style-type: none; padding-left: 0; }
details { margin: 5px 0; }
summary { font-weight: bold; cursor: pointer; }
summary:hover { color: #2c7be5; }
.details-child { margin-left: 1.5em; }
a { text-decoration: none; color: #333; }
a:hover { color: #2c7be5; }
</style>

<h1>ğŸ“š æ–‡æ¡£ç´¢å¼•</h1>

{% comment %}
  Step 1: æ”¶é›†æ–‡ä»¶å¹¶æŒ‰è·¯å¾„è§£ææˆæ•°ç»„
{% endcomment %}
{% assign files = site.pages | where_exp:"p","p.path contains 'æˆ‘çš„åšæœäº‘/note/'" | sort: "path" %}

{% assign tree = "" | split: "" %}

{% for file in files %}
  {% assign fname = file.path | split: '/' | last | replace: '.md','' %}
  {% assign parts = fname | split: '--' %}
  {% if parts.size == 1 %}
    {% assign parts = "å…¶ä»–" | append: "--" | append: parts[0] | split: '--' %}
  {% endif %}

  {% assign current = tree %}
  {% for part in parts %}
    {% assign exists = false %}
    {% for node in current %}
      {% if node.name == part %}
        {% assign current = node.children %}
        {% assign exists = true %}
      {% endif %}
    {% endfor %}
    {% if exists == false %}
      {% assign new_node = {"name": part, "url": "", "children": "" | split: "" } %}
      {% if forloop.last %}
        {% assign new_node.url = file.url %}
      {% endif %}
      {% assign current = current | push: new_node %}
      {% assign current = current %}
    {% endif %}
  {% endfor %}
{% endfor %}

{% comment %}
  Step 2: é€’å½’æ¸²æŸ“å‡½æ•°
{% endcomment %}
{% macro render_tree nodes %}
  <ul>
  {% for node in nodes %}
    {% if node.children.size > 0 %}
      <li>
        <details>
          <summary>{{ node.name | capitalize }}</summary>
          {{ render_tree(node.children) }}
        </details>
      </li>
    {% else %}
      <li>ğŸ“„ <a href="{{ node.url }}">{{ node.name | capitalize }}</a></li>
    {% endif %}
  {% endfor %}
  </ul>
{% endmacro %}

{% comment %}
  Step 3: æ¸²æŸ“æ•´ä¸ªæ ‘
{% endcomment %}
{{ render_tree(tree) }}

