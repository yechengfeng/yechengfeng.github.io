---
layout: default
title: 文档中心
---

<style>
body{margin:0;font-family:Arial,Helvetica,sans-serif;display:flex;height:100vh;}
nav{width:260px;background:#1f2937;color:#fff;position:fixed;top:0;left:0;height:100%;overflow:auto;}
nav .nav-header{padding:1em;text-align:center;font-weight:bold;font-size:1.1em;background:#111827;}
nav ul{list-style:none;padding-left:0;margin:0;}
nav li a{display:block;color:#e5e7eb;text-decoration:none;padding:0.4em 1em;}
nav li a:hover, nav li a.active{background:#3b82f6;color:#fff;border-radius:4px;}
details summary{cursor:pointer;padding:0.4em 1em;}
details[open]>summary{font-weight:bold;}
details summary::after{content:"▸";float:right;transition:transform 0.2s;}
details[open] summary::after{transform:rotate(90deg);}
main{margin-left:260px;padding:1em;flex:1;overflow:auto;}
.article-card{display:none;}
.article-card.active{display:block;}
#navToggle{display:none;}
@media(max-width:768px){#navToggle{display:block;position:fixed;top:10px;left:10px;z-index:1000;}nav{left:-260px;transition:left 0.3s;}nav.open{left:0;}main{margin-left:0;}}
</style>

<button id="navToggle">☰</button>

<nav>
  <div class="nav-header">Yechengfeng</div>
  <input type="text" id="searchBox" placeholder="搜索文件..." onkeyup="filterNav()">
  <div id="navListContainer">
    <ul>
      {% assign files = site.pages | where_exp:"p","p.path contains '我的坚果云/note/'" | sort:"path" %}

      {% comment %}
      构建树逻辑：手动递归嵌套 HTML
      {% endcomment %}
      {% for file in files %}
        {% assign fname = file.path | split:'/' | last | replace:'.md','' %}
        {% assign parts = fname | split:'--' %}

        {% comment %}支持最多5层{% endcomment %}
        {% if parts.size == 1 %}
          <li><a href="#" onclick="showArticle('{{ file.url | replace:'/','_' | replace:'.md','' }}', this)">{{ parts[0] }}</a></li>
        {% elsif parts.size == 2 %}
          <details>
            <summary>{{ parts[0] }}</summary>
            <ul>
              <li><a href="#" onclick="showArticle('{{ file.url | replace:'/','_' | replace:'.md','' }}', this)">{{ parts[1] }}</a></li>
            </ul>
          </details>
        {% elsif parts.size == 3 %}
          <details>
            <summary>{{ parts[0] }}</summary>
            <details>
              <summary>{{ parts[1] }}</summary>
              <ul>
                <li><a href="#" onclick="showArticle('{{ file.url | replace:'/','_' | replace:'.md','' }}', this)">{{ parts[2] }}</a></li>
              </ul>
            </details>
          </details>
        {% elsif parts.size == 4 %}
          <details>
            <summary>{{ parts[0] }}</summary>
            <details>
              <summary>{{ parts[1] }}</summary>
              <details>
                <summary>{{ parts[2] }}</summary>
                <ul>
                  <li><a href="#" onclick="showArticle('{{ file.url | replace:'/','_' | replace:'.md','' }}', this)">{{ parts[3] }}</a></li>
                </ul>
              </details>
            </details>
          </details>
        {% elsif parts.size == 5 %}
          <details>
            <summary>{{ parts[0] }}</summary>
            <details>
              <summary>{{ parts[1] }}</summary>
              <details>
                <summary>{{ parts[2] }}</summary>
                <details>
                  <summary>{{ parts[3] }}</summary>
                  <ul>
                    <li><a href="#" onclick="showArticle('{{ file.url | replace:'/','_' | replace:'.md','' }}', this)">{{ parts[4] }}</a></li>
                  </ul>
                </details>
              </details>
            </details>
          </details>
        {% endif %}
      {% endfor %}
    </ul>
  </div>
</nav>

<main id="mainContent">
  {% for file in files %}
    <div class="article-card" id="{{ file.url | replace:'/','_' | replace:'.md','' }}">
      {{ file.content | markdownify }}
    </div>
  {% endfor %}
</main>

<script>
const nav=document.querySelector('nav');
const toggle=document.getElementById('navToggle');
const main=document.getElementById('mainContent');
const searchBox=document.getElementById('searchBox');

function showArticle(id, linkElem){
  document.querySelectorAll('.article-card').forEach(c=>c.classList.remove('active'));
  document.getElementById(id).classList.add('active');
  document.querySelectorAll("#navListContainer a").forEach(a=>a.classList.remove("active"));
  if(linkElem) linkElem.classList.add("active");
  localStorage.setItem('currentArticle', id);
  if(window.innerWidth<=768){nav.classList.remove('open');}
}

function filterNav(){
  var input=searchBox.value.toLowerCase();
  document.querySelectorAll("#navListContainer li").forEach(item=>{
    item.style.display=item.textContent.toLowerCase().includes(input)?"":"none";
  });
}

toggle.addEventListener('click', ()=>{nav.classList.toggle('open');});

window.onload=function(){
  var id=localStorage.getItem('currentArticle');
  if(id){document.querySelector("#navListContainer a[onclick*='"+id+"']").click();}
  else{document.querySelector("#navListContainer a").click();}
}
</script>

