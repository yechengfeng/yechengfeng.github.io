---
layout: default
title: 我的坚果云
---

<style>
main {margin:auto;text-align:center;padding:3em;}
.folder-grid {
  display:grid;
  grid-template-columns:repeat(auto-fill,minmax(220px,1fr));
  gap:1.5em;
  max-width:900px;
  margin:auto;
}
.folder-card {
  background:#fff;
  border-radius:12px;
  padding:1.2em;
  box-shadow:0 2px 6px rgba(0,0,0,0.1);
  text-decoration:none;
  color:#111;
  font-weight:bold;
  transition:0.2s;
  display:block;
}
.folder-card:hover {
  background:#e5e7eb;
  transform:translateY(-3px);
}
.empty-note {color:#666;margin-top:1em;}
</style>

<main>
  <h1>📁 我的坚果云</h1>
  <p>请选择一个文件夹以查看其内容</p>

  <div class="folder-grid" id="folderGrid">
    {%- comment -%}
      使用 Liquid 在构建期去重并输出「我的坚果云/」下的一级文件夹列表
    {%- endcomment -%}

    {%- assign folders_acc = "" -%}
    {%- for p in site.pages -%}
      {%- if p.path contains '我的坚果云/' -%}
        {%- assign rel = p.path | remove_first: '我的坚果云/' -%}
        {%- assign first = rel | split:'/' | first -%}
        {%- if first and first != '' -%}
          {%- unless folders_acc contains first -%}
            {%- assign folders_acc = folders_acc | append: first | append: '||' -%}
          {%- endunless -%}
        {%- endif -%}
      {%- endif -%}
    {%- endfor -%}

    {%- assign folder_list = folders_acc | split: '||' -%}
    {%- assign folder_list = folder_list | uniq -%}   {# extra safety #}
    {%- for folder in folder_list -%}
      {%- if folder != '' -%}
        <a class="folder-card" href="/folder.html?dir={{ folder | uri_escape }}">{{ folder }}</a>
      {%- endif -%}
    {%- endfor -%}
  </div>

  {%- if folder_list == nil or folder_list == empty -%}
    <div class="empty-note">未检测到 “我的坚果云” 下的子文件夹（或路径名称不包含 “我的坚果云/”）。</div>
  {%- endif -%}
</main>

